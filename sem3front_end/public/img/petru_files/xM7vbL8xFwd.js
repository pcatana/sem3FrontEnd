if (self.CavalryLogger) { CavalryLogger.start_js(["ymRje"]); }

__d("ShowVideoEndScreenWithActions.react",["ix","cx","fbt","Arbiter","AsyncRequest","CenteredContainer.react","Image.react","LineClamp.react","Link.react","List.react","React","URI","VideoHomeClickTargets","VideoHomeEvents","VideoHomeTypedLogger","VideoPlayerStates","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m="FollowingUser",n="UnfollowingUser";k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={following:this.props.following,playerState:""},this.$ShowVideoEndScreenWithActions3=function(){var u=this.props.vpc.getVideoID(),v=this.props.pageID,w=new(c("URI"))(this.state.following?this.props.unfollowUri:this.props.followUri).setQueryData({profile_id:v,location:this.props.location});new(c("AsyncRequest"))(w).setMethod("POST").send();var event=this.state.following?n:m;c("Arbiter").inform(event,{contextID:u,focusOnClick:false,profile_id:v,suppress:true});this.setState({following:!this.state.following})}.bind(this),q}o.prototype.componentDidMount=function(){this.props.vpc.addListener("stateChange",function(){return this.setState({playerState:this.props.vpc.getState()})}.bind(this));c("Arbiter").subscribe(m,function(p,q){if(this.props.pageID==q.profile_id)this.setState({following:true})}.bind(this));c("Arbiter").subscribe(n,function(p,q){if(this.props.pageID==q.profile_id)this.setState({following:false})}.bind(this))};o.prototype.render=function(){var p=this.props.vpc;if(!p||!p.isInline())return null;if(this.state.playerState!==c("VideoPlayerStates").FINISHED)return null;var q=this.$ShowVideoEndScreenWithActions1();new(c("VideoHomeTypedLogger"))().setEvent(c("VideoHomeEvents").SHOW_VIDEO_END_SCREEN_IMPRESSION).log();return c("React").createElement(c("CenteredContainer.react"),{className:"_2a_1",fullHeight:true,vertical:true},q)};o.prototype.$ShowVideoEndScreenWithActions2=function(){return c("React").createElement("li",{className:"_2a_2 _2la4"},c("React").createElement(c("Link.react"),{className:"_2pi9",onClick:this.$ShowVideoEndScreenWithActions3},c("React").createElement("div",{className:"_2a_3"},c("React").createElement("div",{className:"_2a_5"}),c("React").createElement("div",{className:"_2a_c _2a_f"},c("React").createElement(c("Image.react"),{src:h("114930"),size:"24"}))),c("React").createElement("div",{className:"_2a_e _2la8"},c("React").createElement(c("CenteredContainer.react"),{horizontal:false,fullHeight:true,vertical:true},j._("{=Follow this show} {=to get new episodes in your watchlist}",[j.param("=Follow this show",c("React").createElement("span",null,j._("Follow this show"))),j.param("=to get new episodes in your watchlist",c("React").createElement("span",{className:"_2laa"},j._("to get new episodes in your watchlist")))])))))};o.prototype.$ShowVideoEndScreenWithActions4=function(){var p=this.props.moreEpisodesUri;return c("React").createElement("li",{className:"_2a_2 _2la4"},c("React").createElement(c("Link.react"),{className:"_2pi9",href:p,onClick:function(){this.$ShowVideoEndScreenWithActions5(c("VideoHomeClickTargets").SHOW_VIDEO_END_SCREEN_MORE_EPISODES_BUTTON)}.bind(this)},c("React").createElement("div",{className:"_2a_3"},c("React").createElement("div",{className:"_2a_5"}),c("React").createElement("div",{className:"_2a_c _2la9"},c("React").createElement(c("Image.react"),{src:h("115397"),size:"24"}))),c("React").createElement("div",{className:"_2a_e _2la5"},c("React").createElement(c("CenteredContainer.react"),{horizontal:false,fullHeight:true,vertical:true},c("React").createElement(c("LineClamp.react"),{lines:2},j._("{=More Episodes} {=from} {=[show_name]}",[j.param("=More Episodes",c("React").createElement("span",null,j._("More episodes"))),j.param("=from",c("React").createElement("span",{className:"_2laa"},j._("from"))),j.param("=[show_name]",c("React").createElement("span",{className:"_2laa"},j._("{show_name}",[j.param("show_name",this.props.pageTitle)])))]))))))};o.prototype.$ShowVideoEndScreenWithActions1=function(){var p=this.state.following?this.$ShowVideoEndScreenWithActions4():this.$ShowVideoEndScreenWithActions2();return c("React").createElement(c("List.react"),{border:"none",className:this.state.playerState!=="finished"?"hidden_elem":""},p)};o.prototype.$ShowVideoEndScreenWithActions5=function(p){new(c("VideoHomeTypedLogger"))().setEvent(c("VideoHomeEvents").CLICK).setClickTarget(p).log()};f.exports=o}),null);
__d("VideoShowsShowmarkOverlay",["cx","CSS","VideoPlayerReason"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=4e3;j.init=function(k,l){"use strict";return new j(k,l)};function j(k,l){"use strict";__p&&__p();this.handleBeginPlayback=function(){__p&&__p();if(!this.$VideoShowsShowmarkOverlay4){if(this.$VideoShowsShowmarkOverlay5){clearTimeout(this.$VideoShowsShowmarkOverlay5);this.$VideoShowsShowmarkOverlay5=null}this.$VideoShowsShowmarkOverlay4=true;c("CSS").removeClass(this.$VideoShowsShowmarkOverlay2,"_3nj3")}this.$VideoShowsShowmarkOverlay5=setTimeout(function(){c("CSS").addClass(this.$VideoShowsShowmarkOverlay2,"_3nj3")}.bind(this),i)}.bind(this);this.handlePausePlayback=function(m){if(m===c("VideoPlayerReason").AUTOPLAY)this.$VideoShowsShowmarkOverlay4=false}.bind(this);this.$VideoShowsShowmarkOverlay1=k;this.$VideoShowsShowmarkOverlay2=l;this.$VideoShowsShowmarkOverlay4=true;this.$VideoShowsShowmarkOverlay5=null;k.addListener("beginPlayback",this.handleBeginPlayback);k.addListener("pauseRequested",this.handlePausePlayback)}f.exports=j}),null);